/*box1 {
	sceneNode {
		model "gen:models/cube1.md3 scale '0.01'"
		origin "0 4 0"
	}
	
	physBody {
		mass box {
			total 5.0
			dimensions "1.0 1.0 1.0"
		}
		
		gravity true
	}
	
	physGeom box {
		dimensions "0.65 0.65 0.65"
	}
}*/

/*box2 {
	sceneNode {
		//model "gen:cube width '1.0' height '1.0' depth '1.0'" 
		//model "models/kub.md3 scale '1.0'"
		model "gen:cube width '1.0' height '1.0' depth '1.0'" 
		origin "2 4 0"
		material "Cube"
	}
	
	physBody {
		mass box {
			total 5.0
			dimensions "1.0 1.0 1.0"
		}
		
		gravity true
	}
	
	physGeom box {
		dimensions "1.0 1.0 1.0"
		friction 2.0
	}
	
	sceneNode {
		model "models/kub.md3 scale '0.2'"
		origin "0 1 0"
		treePosition "box2/"
	}
	
	sceneLight {
		origin "0 1 0"
		material "deferred/lightPositional"
		treePosition "box2/"
		diffuse "0.2 0.2 1.2 1.0"
		specular "1.0 0.0 0.0"
		model "gen:cube width '5.0' height '5.0' depth '5.0'"
	}


}
*/

/*box3 {
	sceneNode {
		//model "gen:cube width '1.0' height '1.0' depth '1.0'" 
		//model "models/kub.md3 scale '1.0'"
		//model "models/railgun.md3 scale 0.1"
		model "gen:cube width '1.0' height '1.0' depth '1.0'" 
		material "Cube2"
		origin "2 7 0"
	}
	
	physBody {
		mass box {
			total 5.0
			dimensions "1.0 1.0 1.0"
		}
		
		gravity true
	}
	
	physGeom box {
		dimensions "1.0 1.0 1.0"
		friction 2.0
	}
}


box35 {
	sceneNode {
		model "gen:cube width '1.0' height '1.0' depth '1.0'" 
		//model "models/kub.md3 scale '1.0'"
		material "Cube2"
		origin "2 7 0"
	}
	
	physBody {
		mass box {
			total 5.0
			dimensions "1.0 1.0 1.0"
		}
		
		gravity true
	}
	
	physGeom box {
		dimensions "1.0 1.0 1.0"
		friction 2.0
	}
}



box4 {
	sceneNode {
		//model "gen:cube width '1.0' height '1.0' depth '1.0'" 
		//model "models/kub.md3 scale '1.0'"
		model "gen:cube width '1.0' height '1.0' depth '1.0'" 
		material "Cube"
		origin "2 10 0"
	}
	
	sceneNode {
		model "models/kub.md3 scale '0.2'"
		origin "0 1 0"
		treePosition "box4/"
	}
	
	sceneLight {
		origin "0 1 0"
		material "deferred/lightPositional"
		treePosition "box4/"
		diffuse "0.2 1.0 0.2 1.0"
		specular "1.0"
		model "gen:cube width 5.0 height 5.0 depth 5.0"
	}
	
	physBody {
		mass box {
			total 5.0
			dimensions "1.0 1.0 1.0"
		}
		
		gravity true
	}
	
	physGeom box {
		dimensions "1.0 1.0 1.0"
		friction 2.0
	}
}
*/

/*box4 {
	sceneNode {
		model "gen:cube width 1 height 1 depth 1" 
		origin "0 4 0"
	}
	
	physBody {
		mass box {
			total 5.0
			dimensions "1.0 1.0 1.0"
		}
		
		gravity true
	}
	
	sceneLight {
		material "deferred/lightPositional"
		treePosition "box4/"
		diffuse "0.2 1.0 0.2 1.0"
		specular "1.0"
		model "gen:cube width 5.0 height 5.0 depth 5.0"
	}
	
	physGeom {
		type box
		
		dimensions "1 1 1"
	}
}*/

/*
box5 {
	sceneNode {
		model "gen:cube width 1 height 1 depth 1" 
		origin "0 8 0"
	}
	
	physBody {
		mass box {
			total 5.0
			dimensions "1.0 1.0 1.0"
		}
		
		gravity true
	}
	
	sceneLight {
		material "deferred/lightPositional"
		treePosition "box5/"
		diffuse "0.2 0.2 1.0 1.0"
		specular "1.0"
		model "gen:cube width 5.0 height 5.0 depth 5.0"
	}
	
	physGeom {
		type box
		
		dimensions "1 1 1"
	}
}

box8 {
	sceneNode {
		model "gen:cube width 1 height 1 depth 1" 
		origin "0 8 0"
	}
	
	physBody {
		mass box {
			total 5.0
			dimensions "1.0 1.0 1.0"
		}
		
		gravity true
	}
		
	physGeom {
		type box
		
		dimensions "1 1 1"
	}
}
box8 {
	sceneNode {
		model "gen:cube width 1 height 1 depth 1" 
		origin "0 8 0"
	}
	
	physBody {
		mass box {
			total 5.0
			dimensions "1.0 1.0 1.0"
		}
		
		gravity true
	}
		
	physGeom {
		type box
		
		dimensions "1 1 1"
	}
}
box8 {
	sceneNode {
		model "gen:cube width 1 height 1 depth 1" 
		origin "0 8 0"
	}
	
	physBody {
		mass box {
			total 5.0
			dimensions "1.0 1.0 1.0"
		}
		
		gravity true
	}
		
	physGeom {
		type box
		
		dimensions "1 1 1"
	}
}

box8 {
	sceneNode {
		model "gen:cube width 1 height 1 depth 1" 
		origin "0 8 0"
	}
	
	physBody {
		mass box {
			total 5.0
			dimensions "1.0 1.0 1.0"
		}
		
		gravity true
	}
		
	physGeom {
		type box
		
		dimensions "1 1 1"
	}
}
box8 {
	sceneNode {
		model "gen:cube width 1 height 1 depth 1" 
		origin "0 8 0"
	}
	
	physBody {
		mass box {
			total 5.0
			dimensions "1.0 1.0 1.0"
		}
		
		gravity true
	}
		
	physGeom {
		type box
		
		dimensions "1 1 1"
	}
}

box8 {
	sceneNode {
		model "gen:cube width 1 height 1 depth 1" 
		origin "0 8 0"
	}
	
	physBody {
		mass box {
			total 5.0
			dimensions "1.0 1.0 1.0"
		}
		
		gravity true
	}
		
	physGeom {
		type box
		
		dimensions "1 1 1"
	}
}
box8 {
	sceneNode {
		model "gen:cube width 1 height 1 depth 1" 
		origin "0 8 0"
	}
	
	physBody {
		mass box {
			total 5.0
			dimensions "1.0 1.0 1.0"
		}
		
		gravity true
	}
		
	physGeom {
		type box
		
		dimensions "1 1 1"
	}
}

box8 {
	sceneNode {
		model "gen:cube width 1 height 1 depth 1" 
		origin "0 8 0"
	}
	
	physBody {
		mass box {
			total 5.0
			dimensions "1.0 1.0 1.0"
		}
		
		gravity true
	}
		
	physGeom {
		type box
		
		dimensions "1 1 1"
	}
}



box8 {
	sceneNode {
		model "gen:cube width 3 height 3 depth 3" 
		origin "0 8 0"
	}
	
	physBody {
		mass box {
			total 1.0
			dimensions "3.0 3.0 3.0"
		}
		
		gravity true
	}
		
	physGeom {
		type box
		
		dimensions "3 3 3"
	}
}*/

step {
	sceneNode {
		model "gen:cube width 4 height 3 depth 4"
		origin "-8 0 -8"
	}
	

	physGeom {
		type box

		dimensions "4 3 4"
	}
}

class pillar {
	sceneNode {
		model "gen:cube width 1 height 4.6 depth 1"
		material "lfwall14g3trim"
	}
	

	physGeom {
		type box

		dimensions "1 4.6 1"
	}
}

pillar1 extends pillar {
	sceneNode {
		origin "0 1.2 8"
	}
}

pillar2 extends pillar {
	sceneNode {
		origin "0 1.2 4"
	}
}

pillar3 extends pillar {
	sceneNode {
		origin "0 1.2 0"
	}
}

pillar4 extends pillar {
	sceneNode {
		origin "0 1.2 -4"
	}
}




step2 {
	sceneNode {
		model "gen:cube width 4 height 3 depth 4"
		origin "-4 2 -8"
	}
	

	physGeom {
		type box

		dimensions "4 3 4"
	}
}

step3 {
	sceneNode {
		model "gen:cube width 14 height 0.2 depth 20 texwidth 2 texdepth 4 texheight 0.03"
		origin "5 3.5 0"
		material "floor_metal_plate"
	}
	
	
	physGeom {
		type box

		dimensions "14 0.2 20"
	}
}


box8 {
	sceneNode {
		model "gen:cube width 1 height 1 depth 1" 
		origin "0 8 0"
		material "squaretile"
	}
	
	physBody {
		mass box {
			total 5.0
			dimensions "1.0 1.0 1.0"
		}
		
		gravity true
	}
		
	physGeom {
		type box
		
		dimensions "1 1 1"
	}
}

box9 {
	sceneNode {
		model "gen:cube width 1 height 1 depth 1" 
		origin "-4 8 0"
		material "lfwall4"
	}
	
	physBody {
		mass box {
			total 5.0
			dimensions "1.0 1.0 1.0"
		}
		
		gravity true
	}
		
	physGeom {
		type box
		
		dimensions "1 1 1"
	}
}
box9 {
	sceneNode {
		model "gen:cube width 1 height 1 depth 1" 
		origin "-4 8 0"
	}
	
	physBody {
		mass box {
			total 5.0
			dimensions "1.0 1.0 1.0"
		}
		
		gravity true
	}
		
	physGeom {
		type box
		
		dimensions "1 1 1"
	}
}
box9 {
	sceneNode {
		model "gen:cube width 1 height 1 depth 1" 
		origin "-4 8 0"
	}
	
	physBody {
		mass box {
			total 5.0
			dimensions "1.0 1.0 1.0"
		}
		
		gravity true
	}
		
	physGeom {
		type box
		
		dimensions "1 1 1"
	}
}
box9 {
	sceneNode {
		model "gen:cube width 1 height 1 depth 1" 
		origin "-4 8 0"
	}
	
	physBody {
		mass box {
			total 5.0
			dimensions "1.0 1.0 1.0"
		}
		
		gravity true
	}
		
	physGeom {
		type box
		
		dimensions "1 1 1"
	}
}

/*ground1 {
	physGeom plane {
		orientation "0 1 0"
		distance "-1.0"
	}
}*/

ground2 {
	sceneNode {
		//model "gen:cube width '1.0' height '1.0' depth '1.0'" 
		//model "models/kub.md3 scale '1.0'"
		model "gen:cube width '20.0' height '20.0' depth '0.05'" 
		material "Cube"
		origin "0 -1 0"
		orientation "0.1 1 0"
	}
	
	physGeom {
		type plane
	
		orientation "0.1 1 0"

		distance "-1.0"
		friction 0.4
	}
}

ground3 {
	sceneNode {
		//model "gen:cube width '1.0' height '1.0' depth '1.0'" 
		//model "models/kub.md3 scale '1.0'"
		model "gen:cube width '20.0' height '20.0' depth '0.05'" 
		material "Cube"
		origin "0 -1 0"
		orientation "-0.1 1 0"
	}

	physGeom {
		type plane
	
		orientation "-0.1 1 0"
		distance "-1.0"
		friction 0.4
	}
}

ground4 {
	physGeom {
		type plane
		
		orientation "0 0 1"
		distance "-10.0"
		friction 0.4
	}
	
	sceneNode {
		//model "gen:cube width '1.0' height '1.0' depth '1.0'" 
		//model "models/kub.md3 scale '1.0'"
		model "gen:cube width '20.0' height '20.0' depth '0.05' texwidth 5 texheight 5" 
		material "a_superpipes"
		origin "0 0 10"
		orientation "0 0 1"
	}
}

ground6 {
	physGeom {
		type plane
		
		orientation "1 0 0"
		distance "-10.0"
		friction 0.4
	}
	
	sceneNode {
		//model "gen:cube width '1.0' height '1.0' depth '1.0'" 
		//model "models/kub.md3 scale '1.0'"
		model "gen:cube width '20.0' height '20.0' depth '0.05'" 
		material "a_superpipes"
		origin "-10 0 0"
		orientation "1 0 0"
	}
}

ground7 {
	physGeom {
		type plane
		
		orientation "-1 0 0"
		distance "-10.0"
		friction 0.4
	}
	
	sceneNode {
		//model "gen:cube width '1.0' height '1.0' depth '1.0'" 
		//model "models/kub.md3 scale '1.0'"
		model "gen:cube width '20.0' height '20.0' depth '0.05' texwidth 5 texheight 5" 
		material "a_superpipes"
		origin "10 0 0"
		orientation "-1 0 0"
	}
}
ground5 {
	physGeom {
		type plane
		
		orientation "0 0 -1"
		distance "-10.0"
		friction 0.4
	}
	
	sceneNode {
		//model "gen:cube width '1.0' height '1.0' depth '1.0'" 
		//model "models/kub.md3 scale '1.0'"
		model "gen:cube width '20.0' height '20.0' depth '0.05'" 
		material "a_superpipes"
		origin "0 0 -10"
		orientation "0 0 -1"
	}

}

ceiling {  // sky
	sceneNode {
		model "gen:cube width '80.0' height '0.05' depth '80.0'"
		material "Sky"
		origin "0 15 0"
	}
}

/*
ground4 {
	physGeom plane {
		orientation "0 1 -0.1"
		distance "-1.0"
	}
}

ground5 {
	physGeom plane {
		orientation "0 1 0.1"
		distance "-1.0"
	}
}
*/

/*player_start {
	sceneNode {
		origin "0 2 0"
		orientation "0 0 1"
	}
	
	sceneNode {
		origin "0 6 0"
		orientation "0 0 1"
	}
	
}*/

light1 {
	sceneLight {
		material "deferred/lightDirectional"
		orientation "0.5 0.5 0"
		diffuse "0.4 0.0 0.0 1.0"
		specular "0.9"
	}
}

maincam {
	sceneCamera {
		origin "0 2 2"
		orientation "0 0 1"
		range "500"
	}

	sound {
		local {
			randomize {
				delay "direct"
				"sounds/sound1"
			}
		}
	}
}

// TODO: ********* mouse control, subclass PlayerController -> FPSController
// TODO: grafiken är konstig när man flyttar kameran, t ex
//       glowen blir kraftigare (lampor som adderar styrka?)
//       och pointlights som hoppar runt!!!!!
// TODO: egen glowmap, lampor måste ju kunna påverka den. nu skriver lampor förmodligen till alla buffrar, inklusive normal och misc!!
//       blir hemkst skumt och fel, gröna lampor = påverkar mycket i gröna kanalen, vilket är glowkanalen.

/*player_start  {
	sceneNode {
		//material "Cube2"		
		origin "0 0 0"
	}
	
	physBody {					// fysisk kropp
		mass box {				// vilken funktion för massa använder vi
			total 20.0			// totala massan
			dimensions "1 1 1"	// storleken på lådan för uträkning av mass
		}
		
		gravity true			// vårat objekt blir påverkat av gravitation
	}
	
	physGeom {					// definition av fysisk geometri, behövs för collisions osv
		type box				// vi har formen av en box
		
		dimensions "1 1 1"		// storleken på boxen
		affectsOthers true		// ska vi påverka andra fysiska objekt?
	}
	
	sceneCamera HeadCam {		// definiera kameran "HeadCam"
		origin "0 0 0"
		range "500"				// viewing range, used to calculate clipping planes and LOD
		
		treePosition "player_start/"	// länka den med entitetens sceneNode
	}
	
	controller {				// controller component
		type firstperson
		
		speed 1.0
		camera HeadCam			// bind camera
		control sceneNode		// bind node to control
	}
	
	sceneLight {
		material "deferred/lightPositional"
		treePosition "player_start/"
		diffuse "1 1 0 1"
		specular "1.0"
		range "2.5 2.5 2.5"
		
		model "gen:cube width 5.0 height 5.0 depth 5.0"		// generera en boundingbox
	}	
}*/

class MyArcball {
	sceneNode exhibit {
		origin "0 2 0"
	}

	sceneCamera Cam {
		origin "0 2 2"
		range "500"
	}
	
	sceneLight lig {
		material "deferred/lightPositional"
		//treePosition "player_start/"
		diffuse "0.2 0.8 0.2 1"
		specular "0.8"
		range "2.5 2.5 2.5"
		origin "0 1 0"
		model "gen:cube width 5.0 height 5.0 depth 5.0"		// generera en boundingbox
	}
	
	controller {
		type arcball
		
		camera Cam
		control exhibit
	}
}

/*player_start extends MyArcball {
	sceneNode exhibit {
		model "models/detonics.md3 scale 0.2"
		material "detonics"
	}
}*/

player_start {
	sceneNode main {
		globalName "player_start"
		
		origin "2 8 0"
	}
	
	/*sceneNode {
		model "models/detonics.md3 scale 0.1"
		material "Cube2"		
		origin "0.3 -0.5 -1.2"
		orientation "1.0 0 0.05"
		
		treePosition "player_start/"
	}*/
	
	sceneNode CamHead {
		treePosition "player_start/"
		globalName "camhead"
		origin "0 1 0"
	}
	
	sceneCamera HeadCam {		// definiera kameran "HeadCam"
		range "500"				// viewing range, used to calculate clipping planes and LOD

		treePosition "player_start/camhead/"	// länka den med entitetens sceneNode
		globalName "cam"
	}
	
	sceneNode {
		model "models/railgun.md3 preset q3 scale 0.1"
		//material "Cube2"		
		origin "0.5 -1.0 -0.3"
		orientation "1.0 0 0.05"
		//origin "0 0 4"
		treePosition "player_start/camhead/"
		globalName "viewgun"
	}
	
	physBody {
		mass box {
			total 2.0
			dimensions "2 2 2"
		}
		
		turnHead true
		maxAngularSpeed 0.0
		gravity true
		link main
		killTorque true	
	}
	
	physGeom {
		type bipedal
		friction 50.0
	}
		

	
	controller {				// controller component
		type firstperson
		
		usePhysics true
		speed 1.0
		camera HeadCam			// bind camera
		control physBody		// bind node to control
		view CamHead
	}
	

}

/*TheGit {
	sceneNode {
		model "gen:cube width 2.0 height 4.0 depth 2.0 texwidth 1.0 texdepth 0.6 texheight 1.3"
		origin "2 8 0"
	}
		
	physBody {
		mass box {
			total 6.0
			dimensions "3 4 2"
		}
		
		turnHead true
		maxAngularSpeed 0.0
		gravity true			
	}
	
	physGeom {
		type bipedal
	
	}

}*/

blarg1 {
	sceneNode {
		model "gen:cube width 2.0 height 2.0 depth 2.0"
		material "Cube"
		origin "20 0 0"
	}

}

blarg2 {
	sceneNode {
		model "gen:cube width 2.0 height 2.0 depth 2.0"
		material "nomat"
		origin "20 0 10"
	}

}
